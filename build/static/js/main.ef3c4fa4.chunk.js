(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{137:function(e,t,a){},141:function(e,t,a){},222:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(0),i=a.n(r),n=a(22),o=a.n(n),c=(a(136),a(59),a(32)),l=a(68),d=(a.p,a(137),a(19)),u=a(20),j=a(11),h=a(24),b=a(23),g=a(88),k=a(25),m=a(15),p=a(28),O=a(26),v=a(9),x=a(270),f=a(48),z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={key:localStorage.getItem("naviKey"),refresh:0},s.selektovano=s.selektovano.bind(Object(j.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){console.log("TRALALALLALAL"+localStorage.getItem("idUloga"))}},{key:"render",value:function(){return Object(s.jsxs)(f.a,{bg:"dark",variant:"dark",children:[Object(s.jsx)(f.a.Brand,{href:"/#/menu",children:"Upravljanje dostavama"}),Object(s.jsxs)(x.a,{variant:"pills",onSelect:this.selektovano,activeKey:this.state.key,className:"mr-auto",children:["3"===localStorage.getItem("idUloga")||"1"===localStorage.getItem("idUloga")?Object(s.jsx)(x.a.Item,{eventKey:1,children:Object(s.jsx)(x.a.Link,{href:"/#/addorder",children:"Dodavanje narud\u017ebe"})}):null,"3"===localStorage.getItem("idUloga")||"1"===localStorage.getItem("idUloga")?Object(s.jsx)(x.a.Item,{eventKey:2,children:Object(s.jsx)(x.a.Link,{href:"/#/narudzbeuprava",children:"Pregled svih narud\u017ebi"})}):null,"2"===localStorage.getItem("idUloga")?Object(s.jsx)(x.a.Item,{eventKey:3,children:Object(s.jsx)(x.a.Link,{href:"/#/dostavavozac",children:"Pregled dostave voza\u010da"})}):null,"3"===localStorage.getItem("idUloga")||"1"===localStorage.getItem("idUloga")?Object(s.jsx)(x.a.Item,{eventKey:4,children:Object(s.jsx)(x.a.Link,{href:"/#/dostaveuprava",children:"Pregled svih dostava"})}):null,"1"===localStorage.getItem("idUloga")?Object(s.jsx)(x.a.Item,{eventKey:5,children:Object(s.jsx)(x.a.Link,{href:"/#/registracija",children:"Registracija"})}):null]}),Object(s.jsx)(x.a,{className:"justify-content-end",children:Object(s.jsx)(x.a.Link,{href:"/",style:{float:"right"},children:"Logout"})})]})}},{key:"selektovano",value:function(e){localStorage.setItem("naviKey",e.toString()),this.setState({refresh:this.state.refresh+1})}}]),a}(i.a.Component),S=a(271),y=a(122),C=(a(141),a(123)),w=a.n(C),N=(a(142),a(39)),I=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).naziv="Stolica Gamma",s.kolicina=1,s.toggle=function(){s.setState({alertVisible:!s.state.alertVisible})},s.state={narudzbe:[],narucioci:[{id:1,Naziv:"Alpha d.o.o."},{id:2,Naziv:"Beta d.o.o."},{id:3,Naziv:"Gamma d.o.o."}],artikli:[{id:1,Naziv:"Stolica Gamma"},{id:2,Naziv:"Stolica Delta"},{id:3,Naziv:"Stolica Epsilon"}],Naziv:"",id_artikla:0,Kolicina:1,id_kupac:1,startDate:new Date,alertVisible:!1,alertMessage:"",alertColor:""},s.dodajArtikal=s.dodajArtikal.bind(Object(j.a)(s)),s.changeArtikal=s.changeArtikal.bind(Object(j.a)(s)),s.changeKolicina=s.changeKolicina.bind(Object(j.a)(s)),s.removeArtikal=s.removeArtikal.bind(Object(j.a)(s)),s.getArtikli=s.getArtikli.bind(Object(j.a)(s)),s.changeNarucioc=s.changeNarucioc.bind(Object(j.a)(s)),s.dodajNarudzbu=s.dodajNarudzbu.bind(Object(j.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getArtikli(),this.getKupci()}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(m.a,{children:[Object(s.jsx)(z,{name:"Dodavanje narud\u017ebe"}),Object(s.jsx)(S.a,{variant:this.state.alertColor,dismissible:!0,show:this.state.alertVisible,onClose:this.toggle,children:this.state.alertMessage}),Object(s.jsx)("br",{}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(p.a,{}),Object(s.jsxs)(p.a,{children:[Object(s.jsx)(O.a,{children:Object(s.jsxs)(g.a,{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Naziv artikla"}),Object(s.jsx)("th",{children:"Koli\u010dina"}),Object(s.jsx)("th",{})]})}),Object(s.jsx)("tbody",{children:this.state.narudzbe.map((function(t,a){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:a+1}),Object(s.jsx)("td",{children:t.Naziv}),Object(s.jsx)("td",{children:t.kolicina}),Object(s.jsx)("td",{children:Object(s.jsx)(k.a,{onClick:function(){return e.removeArtikal(a)},variant:"danger",children:"X"})})]},a)}))})]})}),Object(s.jsx)(O.a,{children:Object(s.jsxs)(v.a,{children:[Object(s.jsxs)(y.a,{children:[Object(s.jsx)(v.a.Row,{children:Object(s.jsx)(v.a.Label,{children:"Naru\u010dilac"})}),Object(s.jsx)(v.a.Row,{children:Object(s.jsx)(v.a.Control,{as:"select",onChange:this.changeNarucioc,children:this.state.narucioci.map((function(e,t){return Object(s.jsx)("option",{value:e.id,children:e.Naziv},e.id)}))})}),Object(s.jsx)(v.a.Row,{children:Object(s.jsx)(v.a.Label,{children:"Rok isporuke"})}),Object(s.jsx)(v.a.Row,{children:Object(s.jsx)(w.a,{className:"form-control",style:{width:"100%"},selected:this.state.startDate,onChange:function(t){return e.setState({startDate:t})}})})]}),Object(s.jsx)("br",{}),Object(s.jsxs)(y.a,{children:[Object(s.jsx)(v.a.Label,{children:"Artikal"}),Object(s.jsx)(v.a.Control,{as:"select",onChange:this.changeArtikal,children:this.state.artikli.map((function(e,t){return Object(s.jsx)("option",{value:e.id,name:e.Naziv,children:e.Naziv},e.id)}))}),Object(s.jsx)(v.a.Label,{children:"Koli\u010dina"}),Object(s.jsxs)(v.a.Row,{children:[Object(s.jsx)(O.a,{xs:10,children:Object(s.jsx)(v.a.Control,{type:"number",min:"1",onChange:this.changeKolicina,placeholder:"1"})}),Object(s.jsx)(O.a,{xs:2,children:Object(s.jsx)(k.a,{href:"#",variant:"secondary",disabled:!0,children:"kom"})})]}),Object(s.jsx)("br",{}),Object(s.jsx)(k.a,{href:"#",variant:"primary",type:"submit",onClick:this.dodajArtikal,children:"Unesi artikal"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(k.a,{className:"float-right",variant:"primary",type:"button",onClick:this.dodajNarudzbu,children:"Finaliziraj narud\u017ebu"})]})})]})]})]})}},{key:"dodajNarudzbu",value:function(){var e=this;N.post("/narudzba/kreirajNarudzbu",{rokIsporuke:this.state.startDate,idKupac:this.state.id_kupac,narudzbaItems:this.state.narudzbe}).then((function(){e.setState({alertMessage:"Uspje\u0161no dodana nova narud\u017eba",alertVisible:!0,alertColor:"success"})})).catch((function(t){e.setState({alertMessage:"Neuspje\u0161no dodana nova narud\u017eba"+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}},{key:"changeNarucioc",value:function(e){this.setState({id_kupac:Number(e.target.value)})}},{key:"dodajArtikal",value:function(){var e=this;this.setState((function(t){return{narudzbe:t.narudzbe.concat([{Naziv:e.state.Naziv,kolicina:e.state.Kolicina,id:e.state.id_artikla}])}}))}},{key:"changeArtikal",value:function(e){var t="";this.state.artikli.forEach((function(a){a.id==e.target.value&&(t=a.Naziv)})),this.setState({Naziv:t,id_artikla:Number(e.target.value)})}},{key:"changeKolicina",value:function(e){this.setState({Kolicina:e.target.value})}},{key:"removeArtikal",value:function(e){var t=this.state.narudzbe;t.splice(e,1),this.setState({narudzbe:t})}},{key:"getArtikli",value:function(){var e=this;N.get("/roba/all").then((function(t){var a=t.data;e.setState({artikli:a,Naziv:t.data[0].Naziv,id_artikla:t.data[0].id})})).catch((function(t){e.setState({alertMessage:"There was an error while processing request. "+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}},{key:"getKupci",value:function(){var e=this;N.get("/kupac/all").then((function(t){var a=t.data;e.setState({narucioci:a})})).catch((function(t){e.setState({alertMessage:"There was an error while processing request. "+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}}]),a}(i.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={redirect:!1,greska:!1},s}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsx)(z,{})}}]),a}(i.a.Component),U=a(18),V=a(46),M=a(39),A=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).username="",s.password="",s.state={redirect:!1,greska:!1,alertVisible:!1,alertMessage:"",alertColor:""},s.passwordRef=i.a.createRef(),s.submit=s.submit.bind(Object(j.a)(s)),s.changeUsername=s.changeUsername.bind(Object(j.a)(s)),s.changePassword=s.changePassword.bind(Object(j.a)(s)),s.keyPress=s.keyPress.bind(Object(j.a)(s)),s}return Object(u.a)(a,[{key:"render",value:function(){return this.state.redirect?Object(s.jsx)(U.a,{to:"/menu"}):Object(s.jsxs)(m.a,{children:[Object(s.jsx)(f.a,{bg:"dark",variant:"dark",children:Object(s.jsx)(f.a.Brand,{children:"Prijava korisnika"})}),Object(s.jsx)("br",{}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(S.a,{variant:this.state.alertColor,dismissible:!0,show:this.state.alertVisible,onClose:this.toggle,children:this.state.alertMessage}),Object(s.jsxs)(v.a,{children:[Object(s.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(v.a.Label,{children:"Korisni\u010dko ime"}),Object(s.jsx)(v.a.Control,{autoFocus:!0,onChange:this.changeUsername,type:"text",placeholder:"Unesite korisni\u010dko ime"})]}),Object(s.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(v.a.Label,{children:"Lozinka"}),Object(s.jsx)(v.a.Control,{ref:this.passwordRef,onChange:this.changePassword,type:"password",placeholder:"Unesite lozinku"}),this.state.greska&&Object(s.jsx)(v.a.Text,{className:"text-muted",children:"Uneseni pristupni podaci nisu ispravni. Molimo vas da ponovo unesete va\u0161e podatke."})]}),Object(s.jsx)(k.a,{href:"#",onClick:this.submit,variant:"primary",type:"submit",children:"Potvrdi"})]})]})]})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyPress),localStorage.clear()}},{key:"submit",value:function(){this.passwordRef.current.value="",this.passwordRef.current.focus(),this.checkCredentials()}},{key:"changeUsername",value:function(e){this.username=e.target.value}},{key:"changePassword",value:function(e){this.password=e.target.value}},{key:"keyPress",value:function(e){"Enter"==e.key&&this.submit()}},{key:"passwordStrength",value:function(e){if(e.length<12)return 0;for(var t=0,a=0;a<e.length;a++)if(e[a]==e[a].toUpperCase()){t++;break}for(var s=0;s<e.length;s++)if(e[s]==e[s].toLowerCase()){t++;break}for(var r=0;r<e.length;r++)if(!isNaN(1*e[r])){t++;break}return t>2&&e.length>15?2:1}},{key:"checkCredentials",value:function(){var e=this;M.create().post("/login",{username:this.username,password:this.password},{}).then((function(t){localStorage.setItem("token",t.data.token),localStorage.setItem("refresh_token",t.data.refresh_token),localStorage.setItem("idUloga",t.data.idUloga),localStorage.setItem("idKorisnik",t.data.idKorisnik),console.log("Uloga: "+localStorage.getItem("idUloga")),e.setState({alertMessage:"Uspje\u0161na prijava",alertVisible:!0,alertColor:"success"}),e.setState({redirect:!0})})).catch((function(t){e.setState({alertMessage:t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}}]),a}(i.a.Component),R=a(63),P=(a(222),a(128)),F=a(129),K=a.n(F),D=function(e){var t=e.text;return Object(s.jsxs)("div",{children:[Object(s.jsx)(P.Icon,{icon:K.a,className:"pinicon"}),Object(s.jsx)("p",{className:"pintext",children:t})]})},T=a(41),B=a.n(T),E=a(39),G=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).razlogText="",s.columns=[{dataField:"rb",text:"#",sort:!0},{dataField:"naziv",text:"Naziv artikla",sort:!0},{dataField:"kolicina",text:"Koli\u010dina",sort:!0}],s.selectRow={mode:"radio",clickToSelect:!0,hideSelectColumn:!0,bgColor:"#00BFFF"},s.toggle=function(){s.setState({alertVisible:!s.state.alertVisible})},s.state={location:{address:"Sarajevo",lat:43.858305,lng:18.411367},artikli:[],narucioc:"",vrijemeIsporuke:"",idNarudzba:e.location.state.idNarudzba,alertVisible:!1,alertMessage:"",alertColor:"",neuspjesna:!1},s.getArtikli=s.getArtikli.bind(Object(j.a)(s)),s.ChangeStatus=s.ChangeStatus.bind(Object(j.a)(s)),s.ChangeStatus2=s.ChangeStatus2.bind(Object(j.a)(s)),s.Neuspjesna=s.Neuspjesna.bind(Object(j.a)(s)),s.Razlog=s.Razlog.bind(Object(j.a)(s)),s}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(m.a,{children:[Object(s.jsx)(z,{name:"Pregled dostave"}),Object(s.jsx)("br",{}),Object(s.jsx)(S.a,{variant:this.state.alertColor,dismissible:!0,show:this.state.alertVisible,onClose:this.toggle,children:this.state.alertMessage}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(p.a,{children:Object(s.jsx)(v.a.Label,{children:"Naru\u010dilac"})}),Object(s.jsx)(p.a,{children:Object(s.jsx)("h5",{children:this.state.narucioc})}),Object(s.jsxs)(p.a,{children:[Object(s.jsx)(O.a,{children:Object(s.jsx)(B.a,{keyField:"rb",data:this.state.artikli,columns:this.columns,bootstrap4:!0,selectRow:this.selectRow})}),Object(s.jsx)(O.a,{children:Object(s.jsx)(v.a,{children:Object(s.jsxs)(v.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(s.jsx)(v.a.Row,{children:Object(s.jsx)(v.a.Label,{children:"Procijenjeno vrijeme dolaska"})}),Object(s.jsx)(v.a.Row,{children:Object(s.jsx)("h5",{children:this.state.vrijemeIsporuke.substr(0,10)})}),Object(s.jsx)("br",{}),Object(s.jsxs)(v.a.Row,{children:[Object(s.jsx)(O.a,{children:Object(s.jsx)(k.a,{variant:"primary",type:"button",onClick:this.ChangeStatus,children:"Isporu\u010dena narud\u017eba"})}),Object(s.jsx)(O.a,{children:Object(s.jsx)(k.a,{variant:"primary",type:"button",onClick:this.Neuspjesna,children:"Neuspje\u0161na narud\u017eba"})})]}),Object(s.jsx)("br",{}),this.state.neuspjesna&&Object(s.jsxs)(v.a.Row,{children:[Object(s.jsx)(v.a.Label,{children:"Razlog neuspje\u0161ne narud\u017ebe"}),Object(s.jsx)(v.a.Control,{as:"textarea",rows:3,onChange:this.Razlog}),Object(s.jsx)(k.a,{variant:"primary",type:"button",onClick:this.ChangeStatus2,children:"Potvrdi"})]}),Object(s.jsx)("br",{}),Object(s.jsxs)(v.a.Row,{children:[Object(s.jsx)(v.a.Label,{children:"Adresa"}),Object(s.jsx)("div",{style:{height:"300px",width:"100%"},children:Object(s.jsx)(R.a,{bootstrapURLKeys:{key:"AIzaSyBgnez0Qm0mhtlw4jnXJhZxdFSH4P18akQ"},center:this.state.location,defaultZoom:13,children:Object(s.jsx)(D,{lat:this.state.location.lat,lng:this.state.location.lng,text:this.state.location.address})})})]})]})})})]})]})]})}},{key:"componentDidMount",value:function(){this.getArtikli()}},{key:"ChangeStatus",value:function(){var e=this;E.put("/narudzba/changeStatus",{id:this.state.idNarudzba,status:"Isporu\u010deno",razlog:null}).then((function(){e.setState({alertMessage:"Uspje\u0161no promijenjen status narud\u017ebe",alertVisible:!0,alertColor:"success",neuspjesna:!1})})).catch((function(t){e.setState({alertMessage:"Neuspje\u0161no promijenjen status narud\u017ebe"+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}},{key:"ChangeStatus2",value:function(){var e=this;E.put("/narudzba/changeStatus",{id:this.state.idNarudzba,status:"Neuspje\u0161no",razlog:this.razlogText},{}).then((function(){e.razlogText="",e.setState({alertMessage:"Uspje\u0161no promijenjen status narud\u017ebe",alertVisible:!0,alertColor:"success",neuspjesna:!1})})).catch((function(t){e.setState({alertMessage:"Neuspje\u0161no promijenjen status narud\u017ebe"+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}},{key:"getArtikli",value:function(){var e=this;E.get("/narudzba/id/"+this.state.idNarudzba,{}).then((function(t){var a=t.data,s=[],r=1;a.artikli.forEach((function(e){s.push({rb:r,naziv:e.naziv,kolicina:e.kolicina}),r++})),e.setState({artikli:s}),e.setState({location:{address:a.kupac.Adresa,lat:a.kupac.lokacijLat,lng:a.kupac.lokacijLng}}),e.setState({narucioc:a.kupac.Naziv}),e.setState({vrijemeIsporuke:a.narudzba.RokIsporuke})})).catch((function(t){e.setState({alertMessage:"There was an error while processing request. "+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}},{key:"Neuspjesna",value:function(){this.setState({neuspjesna:!0})}},{key:"Razlog",value:function(e){this.razlogText=e.target.value}}]),a}(i.a.Component),_=a(39),q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).columns=[{dataField:"id",text:"#",sort:!0},{dataField:"firma",text:"Naru\u010dilac",sort:!0},{dataField:"adresa",text:"Adresa"},{dataField:"datum",text:"Datum narud\u017ebe",sort:!0},{dataField:"status",text:"Status"}],s.toggle=function(){s.setState({alertVisible:!s.state.alertVisible})},s.state={location:{address:"1600 Amphitheatre Parkway, Mountain View, california.",lat:37.42216,lng:-122.08427},products:[{id:1,firma:"Alpha d.o.o.",adresa:"Sarajevska 75 Tuzla",datum:"10.10.2020.",status:"Na \u010dekanju"},{id:2,firma:"Beta d.o.o.",adresa:"Zeni\u010dka bb Sarajevo",datum:"20.10.2020.",status:"Na \u010dekanju"},{id:3,firma:"Gamma d.o.o.",adresa:"Mostarska 16 Zenica",datum:"01.10.2020.",status:"Na putu"},{id:4,firma:"Delta d.o.o.",adresa:"Tuzlanska 35 Mostar",datum:"11.10.2020.",status:"Isporu\u010dena"}],alertVisible:!1,alertMessage:"",alertColor:""},s.getNarudzbe=s.getNarudzbe.bind(Object(j.a)(s)),s.createDostava=s.createDostava.bind(Object(j.a)(s)),s}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(m.a,{children:[Object(s.jsx)(z,{name:"Pregled dostava"}),Object(s.jsx)("br",{}),Object(s.jsx)(S.a,{variant:this.state.alertColor,dismissible:!0,show:this.state.alertVisible,onClose:this.toggle,children:this.state.alertMessage}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(p.a,{children:Object(s.jsx)(B.a,{keyField:"id",data:this.state.products,columns:this.columns,bootstrap4:!0})}),Object(s.jsx)(p.a,{children:Object(s.jsx)(k.a,{variant:"primary",onClick:this.createDostava,children:"Generi\u0161i dostave"})})]})]})}},{key:"componentDidMount",value:function(){this.getNarudzbe()}},{key:"getNarudzbe",value:function(){var e=this;_.get("/narudzba/all").then((function(t){var a=t.data,s=[];a.forEach((function(e){s.push({id:e.narudzba.id,firma:e.kupac.Naziv,adresa:e.kupac.Adresa,datum:e.narudzba.VrijemeNarudzbe.substr(0,10),status:e.narudzba.Status})})),e.setState({products:s})})).catch((function(t){e.setState({alertMessage:"There was an error while processing request. "+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}},{key:"createDostava",value:function(){var e=this;_.post("/isporuka/add").then((function(t){e.setState({alertMessage:"Uspje\u0161no generisane dostave",alertVisible:!0,alertColor:"success"})})).catch((function(t){e.setState({alertMessage:"Neuspje\u0161no generisane dostave: "+t.message,alertVisible:!0,alertColor:"danger"})}))}}]),a}(i.a.Component),Z=a(39),J=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).columns=[{dataField:"idIsporuke",text:"Dostava",sort:!0},{dataField:"idVozilo",text:"Vozilo",sort:!0},{dataField:"ime",text:"Voza\u010d"}],s.state={isporuke:[{idIsporuke:2,ime:"Naida Hanjalic",idVozilo:1,idKorisnik:2}],alertVisible:!1,alertMessage:"",alertColor:""},s}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(m.a,{children:[Object(s.jsx)(S.a,{variant:this.state.alertColor,dismissible:!0,show:this.state.alertVisible,onClose:this.toggle,children:this.state.alertMessage}),Object(s.jsx)(z,{name:"Pregled dostava"}),Object(s.jsx)("br",{}),Object(s.jsx)(m.a,{children:Object(s.jsx)(B.a,{keyField:"idIsporuke",data:this.state.isporuke,columns:this.columns,bootstrap4:!0})})]})}},{key:"componentDidMount",value:function(){this.getIsporuke()}},{key:"getIsporuke",value:function(){var e=this;Z.get("/isporuka/all").then((function(t){var a=t.data,s=[];a.forEach((function(e){s.push({idIsporuke:e.isporuka.id,ime:e.korisnik.Ime+" "+e.korisnik.Prezime,idVozilo:e.vozilo.id,idKorisnik:e.korisnik.id})})),e.setState({isporuke:s})})).catch((function(t){e.setState({alertMessage:"There was an error while processing request. "+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}}]),a}(i.a.Component),H=a(39),Q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).columns=[{dataField:"id",text:"#",sort:!0},{dataField:"firma",text:"Naru\u010dilac",sort:!0},{dataField:"adresa",text:"Adresa"},{dataField:"datum",text:"Datum narud\u017ebe",sort:!0},{dataField:"status",text:"Status"}],s.selectRow={mode:"radio",clickToSelect:!0,hideSelectColumn:!0,bgColor:"#00BFFF"},s.toggle=function(){s.setState({alertVisible:!s.state.alertVisible})},s.state={idvozac:localStorage.getItem("idKorisnik"),location:{address:"1600 Amphitheatre Parkway, Mountain View, california.",lat:37.42216,lng:-122.08427},products:[{id:1,firma:"Alpha d.o.o.",adresa:"Sarajevska 75 Tuzla",datum:"10.10.2020.",status:"Na \u010dekanju",rokIsporuke:"10.11.2020.",lokacijaLat:37.42216,lokacijaLng:-122.08427},{id:2,firma:"Beta d.o.o.",adresa:"Zeni\u010dka bb Sarajevo",datum:"20.10.2020.",status:"Na \u010dekanju",rokIsporuke:"10.11.2020.",lokacijaLat:57.42216,lokacijaLng:-172.08427},{id:3,firma:"Gamma d.o.o.",adresa:"Mostarska 16 Zenica",datum:"01.10.2020.",status:"Na putu",rokIsporuke:"10.11.2020.",lokacijaLat:37.42216,lokacijaLng:-122.08427},{id:4,firma:"Delta d.o.o.",adresa:"Tuzlanska 35 Mostar",datum:"11.10.2020.",status:"Isporu\u010dena",rokIsporuke:"10.11.2020.",lokacijaLat:67.42216,lokacijaLng:-142.08427}],rokIsporuke:"10.10.2020.",alertVisible:!1,alertMessage:"",alertColor:"",redirect:!1,idnarudzba:0},s}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(s.jsx)(U.a,{to:{pathname:"/narudzbavozac",state:{idNarudzba:this.state.idnarudzba}}}):Object(s.jsxs)(m.a,{children:[Object(s.jsx)(S.a,{variant:this.state.alertColor,dismissible:!0,show:this.state.alertVisible,onClose:this.toggle,children:this.state.alertMessage}),Object(s.jsx)(z,{name:"Pregled dostava"}),Object(s.jsx)("br",{}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(p.a,{}),Object(s.jsx)(p.a,{children:Object(s.jsx)(O.a,{children:Object(s.jsx)(B.a,{keyField:"id",data:this.state.products,columns:this.columns,bootstrap4:!0,selectRow:this.selectRow,rowEvents:{onClick:function(t,a,s){e.setState({redirect:!0,idnarudzba:a.id})}}})})})]})]})}},{key:"componentDidMount",value:function(){this.getIsporuka()}},{key:"getIsporuka",value:function(){var e=this;H.get("/isporuka/id/"+this.state.idvozac,{}).then((function(t){var a=t.data,s=[];a.forEach((function(e){s.push({id:e.narudzba.id,firma:e.kupac.Naziv,adresa:e.kupac.Adresa,datum:e.narudzba.VrijemeNarudzbe.substr(0,10),status:e.narudzba.Status,rokisporuke:e.narudzba.RokIsporuke.substr(0,10),lokacijaLat:e.kupac.lokacijLat,lokacijaLng:e.kupac.lokacijLng})}));var r={adress:"Mountain View, California",lat:37.42216,lng:-122.08427},i="";s.length>0&&(r.adress=s[0].adresa,r.lat=s[0].lokacijaLat,r.lng=s[0].lokacijaLng,i=s[0].datum),e.setState({products:s,location:r,rokIsporuke:i})})).catch((function(t){e.setState({alertMessage:"There was an error while processing request. "+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}}]),a}(i.a.Component),X=a(39),W=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).username="",s.password="",s.ime="",s.prezime="",s.state={redirect:!1,greska:!1,alertVisible:!1,alertMessage:"",alertColor:"",poruka:"",uloge:[{id:1,naziv:"Uprava"},{id:2,naziv:"Voza\u010d"},{id:3,naziv:"Administrator"}],ulogaid:3},s.passwordRef=i.a.createRef(),s.submit=s.submit.bind(Object(j.a)(s)),s.changeUsername=s.changeUsername.bind(Object(j.a)(s)),s.changePassword=s.changePassword.bind(Object(j.a)(s)),s.keyPress=s.keyPress.bind(Object(j.a)(s)),s.changeUloga=s.changeUloga.bind(Object(j.a)(s)),s.changeName=s.changeName.bind(Object(j.a)(s)),s.changeLastname=s.changeLastname.bind(Object(j.a)(s)),s}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(m.a,{children:[Object(s.jsx)(z,{name:"Registracija"}),Object(s.jsx)("br",{}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(S.a,{variant:this.state.alertColor,dismissible:!0,show:this.state.alertVisible,onClose:this.toggle,children:this.state.alertMessage}),Object(s.jsxs)(v.a,{children:[Object(s.jsxs)(v.a.Group,{controlId:"formName",children:[Object(s.jsx)(v.a.Label,{children:"Ime korisnika"}),Object(s.jsx)(v.a.Control,{autoFocus:!0,onChange:this.changeName,type:"text",placeholder:"Unesite ime"})]}),Object(s.jsxs)(v.a.Group,{controlId:"formLastname",children:[Object(s.jsx)(v.a.Label,{children:"Prezime korisnika"}),Object(s.jsx)(v.a.Control,{autoFocus:!0,onChange:this.changeLastname,type:"text",placeholder:"Unesite prezime"})]}),Object(s.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(s.jsx)(v.a.Label,{children:"Korisni\u010dko ime"}),Object(s.jsx)(v.a.Control,{autoFocus:!0,onChange:this.changeUsername,type:"text",placeholder:"Unesite korisni\u010dko ime"})]}),Object(s.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(s.jsx)(v.a.Label,{children:"Lozinka"}),Object(s.jsx)(v.a.Control,{ref:this.passwordRef,onChange:this.changePassword,type:"password",placeholder:"Unesite lozinku"}),this.state.greska&&Object(s.jsx)(v.a.Text,{className:"text-muted",children:this.state.poruka})]}),Object(s.jsxs)(v.a.Group,{controlId:"formRole",children:[Object(s.jsx)(v.a.Label,{children:"Uloga korisnika"}),Object(s.jsx)(v.a.Control,{as:"select",onChange:this.changeUloga,children:this.state.uloge.map((function(e,t){return Object(s.jsx)("option",{value:e.id,children:e.naziv},e.id)}))})]}),Object(s.jsx)(k.a,{href:"#",onClick:this.submit,variant:"primary",type:"submit",children:"Kreiraj korisnika"})]})]})]})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyPress)}},{key:"submit",value:function(){this.passwordRef.current.value="",this.passwordRef.current.focus(),this.createUser()}},{key:"changeName",value:function(e){this.ime=e.target.value}},{key:"changeLastname",value:function(e){this.prezime=e.target.value}},{key:"changeUsername",value:function(e){this.username=e.target.value}},{key:"changePassword",value:function(e){switch(this.password=e.target.value,this.passwordStrength(this.password)){case 0:this.setState({greska:!0,poruka:"Slaba lozinka: Potrebna du\u017ea od 12 znakova, minimalno dvije vrste znakova"});break;case 1:this.setState({greska:!0,poruka:"Srednja lozinka: Potrebna du\u017ea od 12 znakova, minimalno dvije vrste znakova"});break;case 2:this.setState({greska:!0,poruka:""})}}},{key:"changeUloga",value:function(e){this.setState({ulogaid:e.target.value})}},{key:"keyPress",value:function(e){"Enter"==e.key&&this.submit()}},{key:"passwordStrength",value:function(e){if(e.length<8)return 0;for(var t=0,a=0;a<e.length;a++)if(e[a]==e[a].toUpperCase()){t++;break}for(var s=0;s<e.length;s++)if(e[s]==e[s].toLowerCase()){t++;break}for(var r=0;r<e.length;r++)if(!isNaN(1*e[r])){t++;break}return t>1&&e.length>12?2:1}},{key:"createUser",value:function(){var e=this,t=this.password;switch(this.password="",this.passwordStrength(t)){case 0:case 1:this.setState({alertMessage:"Lozinka ne ispunjava uvjete",alertVisible:!0,alertColor:"warning"});break;case 2:X.post("/users/user",{username:this.username,password:t,ime:this.ime,prezime:this.prezime,idUloga:this.state.ulogaid}).then((function(){e.setState({alertMessage:"Uspje\u0161no kreiran novi korisnik",alertVisible:!0,alertColor:"success"})})).catch((function(t){e.setState({alertMessage:"Neuspje\u0161no kreiran novi korisnik: "+t.response.data.message,alertVisible:!0,alertColor:"danger"})}))}}}]),a}(i.a.Component),Y=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return Object(s.jsx)(U.b,Object(c.a)(Object(c.a)({},a),{},{render:function(e){return!localStorage.getItem("token")||"3"!==localStorage.getItem("idUloga")&&"1"!==localStorage.getItem("idUloga")?Object(s.jsx)(U.a,{to:"/menu"}):Object(s.jsx)(t,Object(c.a)({},e))}}))},$=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return Object(s.jsx)(U.b,Object(c.a)(Object(c.a)({},a),{},{render:function(e){return!localStorage.getItem("token")||"2"!==localStorage.getItem("idUloga")&&"1"!==localStorage.getItem("idUloga")?Object(s.jsx)(U.a,{to:"/menu"}):Object(s.jsx)(t,Object(c.a)({},e))}}))},ee=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return Object(s.jsx)(U.b,Object(c.a)(Object(c.a)({},a),{},{render:function(e){return!localStorage.getItem("token")||"2"!==localStorage.getItem("idUloga")&&"1"!==localStorage.getItem("idUloga")&&"3"!==localStorage.getItem("idUloga")?Object(s.jsx)(U.a,{to:"/"}):Object(s.jsx)(t,Object(c.a)({},e))}}))},te=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return Object(s.jsx)(U.b,Object(c.a)(Object(c.a)({},a),{},{render:function(e){return localStorage.getItem("token")&&"1"===localStorage.getItem("idUloga")?Object(s.jsx)(t,Object(c.a)({},e)):Object(s.jsx)(U.a,{to:"/"})}}))};var ae=function(){return Object(s.jsx)(V.a,{children:Object(s.jsxs)(U.d,{children:[Object(s.jsx)(Y,{path:"/addorder",component:I}),Object(s.jsx)(Y,{path:"/narudzbeuprava",component:q}),Object(s.jsx)(Y,{path:"/dostaveuprava",component:J}),Object(s.jsx)($,{path:"/narudzbavozac",component:G}),Object(s.jsx)($,{path:"/dostavavozac",component:Q}),Object(s.jsx)(ee,{path:"/menu",component:L}),Object(s.jsx)(te,{path:"/registracija",component:W}),Object(s.jsx)(U.b,{path:"/",children:Object(s.jsx)(A,{})})]})})},se=a(39);se.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){Promise.reject(e)})),se.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(404===e.response.status&&"/token"===t.url)return window.location.href="/";if(403===e.response.status&&!t._retry){t._retry=!0;var a=localStorage.getItem("refresh_token");return se.post("/token",{token:a}).then((function(e){if(200===e.status)return localStorage.setItem("token",e.data.token),console.log("Radi se refresh tokena:"+localStorage.getItem("token")),se.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),se(t)}))}return Promise.reject(e)})),o.a.render(Object(s.jsx)(ae,{}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.ef3c4fa4.chunk.js.map